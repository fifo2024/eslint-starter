"use strict";var webStore=(()=>{var a=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var c=(r,e)=>{for(var t in e)a(r,t,{get:e[t],enumerable:!0})},u=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of h(e))!g.call(r,o)&&o!==t&&a(r,o,{get:()=>e[o],enumerable:!(s=l(e,o))||s.enumerable});return r};var y=r=>u(a({},"__esModule",{value:!0}),r);var T={};c(T,{default:()=>n});var n=class{constructor(e){this.onChanges=[];this.onRemoves=[];this.onChange=e=>this.onChanges.push(e);this.onRemove=e=>this.onRemoves.push(e);this.get=()=>{if(!this.storage)return null;try{let e=this.storage.getItem(this.key);return JSON.parse(e==null?"null":e)}catch(e){return console.error(e),null}};this.set=e=>{if(this.storage)try{this.onChanges.forEach(t=>t(e,this.get())),this.storage.setItem(this.key,JSON.stringify(e==null||e=="undefined"?null:e))}catch(t){console.error(t)}};this.remove=()=>{if(this.storage)try{this.onRemoves.forEach(e=>e(this.key,this.get())),this.storage.removeItem(this.key)}catch(e){console.error(e)}};let{storage:t,key:s,initialValue:o}=e;if(this.storage=t==="localStorage"?window.localStorage:window.sessionStorage,this.key=s,this.storage&&o!=null)try{let i=typeof o=="function"?o():o;this.set(i)}catch(i){console.error(`Error initializing value for key ${this.key}:`,i)}}};return y(T);})();
//# sourceMappingURL=index.global.js.map